<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surat untuk Capii</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Dekorasi Floating Hearts -->
    <div class="floating-hearts" id="floating-hearts"></div>

    <!-- Dekorasi Confetti -->
    <div class="confetti-container" id="confetti-container"></div>

    <!-- Amplop -->
    <div class="envelope-container">
        <div class="envelope" id="envelope" onclick="toggleEnvelope()">
            <div class="flap"></div>
            <div class="body"></div>
            <div class="shadow"></div>
        </div>
        <div class="letter" id="letter">
            <h1>Hai Capii! ðŸ˜Š</h1>
            <p>Apa kabar kamu di sana, Capii? Udah lama banget ya kita enggak kontak. Aku sering banget keinget masa-masa kita di kampus dulu: main bareng, ngobrol ngalor ngidul, dan ketawa sampai lupa waktu.</p>
            <p>Rasanya baru kemarin kita ngelewatin semuanya bareng, tapi sekarang kita sama-sama sibuk dengan dunia kita masing-masing. Aku harap kamu masih inget aku ya, Capii. Kadang aku rindu banget masa masa kita dulu, pengen banget ketemu lagi, tapi jarak dan waktu terus aja memisahkan kita.</p>
            <p>Semoga kamu selalu sehat, bahagia, dan sukses di mana pun kamu berada. Jangan lupa, kalau ada waktu, aku masih di sini, sahabat lamamu yang selalu inget sama semua cerita kita dulu.</p>
            <p>Oh ya, selamat menyambut tahun baru! Semoga tahun yang baru membawa kebahagiaan dan kesempatan baru buat kita semua. Jangan lupa nikmati momen akhir tahunmu ya, Capii. ðŸŽ‰âœ¨</p>
            <div class="signature">R</div>
        </div>
    </div>

    <!-- Musik -->
    <audio id="background-music" loop>
        <source src="https://archive.org/download/rex-orange-county-best-friend-official-audio/Rex%20Orange%20County%20-%20Best%20Friend%20%28Official%20Audio%29.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        let isOpen = false;

        function toggleEnvelope() {
            const envelope = document.getElementById('envelope');
            const letter = document.getElementById('letter');
            const music = document.getElementById('background-music');

            if (isOpen) {
                envelope.classList.remove('open');
                letter.classList.remove('show');
                isOpen = false;
            } else {
                envelope.classList.add('open');
                letter.classList.add('show');
                generateHearts();
                generateConfetti();
                music.currentTime = 29; // Start music at 29 seconds
                music.play();
                isOpen = true;
            }
        }

        function generateHearts() {
            const heartContainer = document.getElementById('floating-hearts');
            for (let i = 0; i < 30; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.style.left = Math.random() * 100 + '%';
                heart.style.animationDelay = Math.random() * 5 + 's';
                heart.style.width = Math.random() * 20 + 15 + 'px';
                heart.style.height = Math.random() * 20 + 15 + 'px';
                heartContainer.appendChild(heart);

                setTimeout(() => heart.remove(), 8000); // Remove heart after animation ends
            }
        }

        function generateConfetti() {
            const confettiContainer = document.getElementById('confetti-container');
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.animationDelay = Math.random() * 2 + 's';
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = Math.random() * 10 + 5 + 'px';
                confetti.style.backgroundColor = getRandomConfettiColor();
                confettiContainer.appendChild(confetti);

                setTimeout(() => confetti.remove(), 3000); // Remove confetti after animation ends
            }
        }

        function getRandomConfettiColor() {
            const colors = ['#fad0c4', '#ff4d6d', '#ffc0cb', '#ff9a9e', '#fbc2eb'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
    </script>
</body>
</html>
